{% extends "base.html" %}
{% block content %}
<div class="max-w-6xl mx-auto mt-10 p-8 bg-white rounded-[2.5rem] shadow-xl border border-slate-100">
    <div class="flex justify-between items-center mb-8">
        <h2 class="text-3xl font-black text-slate-800 tracking-tight">Employee Directory</h2>
    </div>

    <div class="overflow-x-auto">
        <table class="w-full text-left">
            <thead>
                <tr class="text-slate-400 text-[10px] uppercase tracking-widest border-b border-slate-50">
                    <th class="px-6 py-4 font-bold">Employee Email</th>
                    <th class="px-6 py-4 font-bold text-center">Last Login</th>
                    <th class="px-6 py-4 text-center font-bold">Status</th>
                    <th class="px-6 py-4 text-right font-bold">Action</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-50">
                {% for user in users %}
                <tr class="hover:bg-slate-50/50 transition-colors">
                    <td class="px-6 py-4">
                        <span class="text-sm font-semibold text-slate-700">{{ user.email }}</span>
                        <p class="text-[10px] text-blue-500 font-bold uppercase">{{ user.role }}</p>
                    </td>
                    <td class="px-6 py-4 text-center">
                        <span class="text-xs text-slate-500 font-medium">
                            {{ user.last_login.strftime('%d %b, %H:%M') if user.last_login else 'Never' }}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-center">
                        <span class="px-3 py-1 rounded-lg text-[10px] font-bold uppercase 
                            {{ 'bg-emerald-100 text-emerald-600' if user.is_active else 'bg-rose-100 text-rose-600' }}">
                            {{ 'Active' if user.is_active else 'Inactive' }}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-right">
                        <a href="{{ url_for('accounts.toggle_user', user_id=user.id) }}" 
                           class="text-xs font-bold {{ 'text-rose-500' if user.is_active else 'text-emerald-500' }} hover:underline">
                            {{ 'Deactivate' if user.is_active else 'Activate' }}
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}